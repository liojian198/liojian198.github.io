---
title: "权限系统简介"
collection: teaching
#type: "teaching"
excerpt: ''
permalink: /teaching/author
#date: 2025-06-28
---

# 权限系统简介

  我们在开发系统的时候，经常要用到权限系统，权限系统的模型有很多，但是主要有如下几种：
  DAC (自主访问控制)，MAC (强制访问控制)，RBAC (基于角色)，ABAC (基于属性)，ReBAC (基于关系)，RuBAC (基于规则)，PBAC (基于策略)，NGAC (下一代访问控制)，IBAC (基于身份)，HBAC (基于历史)，GBAC (基于图)，CBAC (基于上下文)，OrBAC (基于组织)，TRBAC (基于时间)，GRBAC (基于组)

## DAC (自主访问控制)

    核心思想： 
        资源的所有者全权决定谁可以访问他们的资源以及拥有什么权限。 这种模型强调去中心化的权限管理。
    工作原理：
        1.每个资源（文件、文件夹、数据库记录等）都有一个所有者。
        2.所有者可以自主地为其他用户或用户组分配读、写、执行等权限。
        3.权限通常通过访问控制列表 (ACLs) 来实现，ACLs 列出了哪些用户或组对该资源拥有哪些权限。
    特点：
        1.灵活性高： 资源所有者有最大的权限控制权。
        2.管理成本高： 随着用户和资源的增多，管理每个资源的 ACL 会变得非常复杂和繁琐。
        3.安全性风险： 如果所有者权限管理不当，可能导致权限扩散，难以追踪和审计。

## MAC (强制访问控制)

    核心思想： 
        由中央安全管理员（而不是资源所有者）严格控制对资源的访问。 这种模型强调安全性、数据隔离和保密性，通常用于对安全要求极高的环境。
    工作原理：
        1.安全标签 (Security Labels)： 每个主体（用户、程序）和客体（文件、数据）都被赋予一个安全标签。这个标签包含安全级别（如“绝密”、“机密”、“公开”）和/或安全分类（如“军事”、“财务”）。
        2.策略规则： 系统根据预定义的、不可更改的策略规则（通常基于安全标签的比较）来决定是否允许访问。例如，著名的 Bell-LaPadula (BLP) 模型用于保密性，规定“读低写高”（主体只能读低于或等于其安全级别的客体，只能写高于或等于其安全级别的客体，防止信息向下流动）。Biba 模型用于完整性。
        3.中央管理： 只有经过授权的管理员才能修改安全标签和策略规则。
    特点：
        1.最高安全性： 提供极高的安全性和数据隔离，防止未经授权的信息泄露。
        2.严格且不灵活： 一旦策略定义，用户无法自行修改。管理复杂，对普通用户不友好。
        3.审计性高： 访问决策明确且基于固定的规则。
        4.常见场景： 军事、政府机构、高度敏感的商业环境（如银行的核心系统），或者在某些操作系统（如 SELinux）中实现。

## RBAC (基于角色)

    核心思想： 
        权限不直接赋予用户，而是赋予“角色”，用户通过被分配角色来获得权限。 这种模型强调集中化和标准化的权限管理
    工作原理：
        1.角色 (Roles)： 根据组织内的职能或职责定义一系列角色（如“管理员”、“编辑”、“查看者”、“财务经理”）。
        2.权限 (Permissions)： 将具体的权限（如“创建用户”、“删除文章”、“查看报告”）分配给这些角色。
        3.用户-角色分配： 用户被分配一个或多个角色，从而继承了这些角色所拥有的权限。 
    特点：
        1.简化管理： 对于拥有大量用户和复杂权限的组织来说，管理角色比管理单个用户的权限更高效。当用户职责变化时，只需更改其角色分配即可。
        2.易于理解： 角色与实际业务职能对应，易于理解和审计。
        3.符合最小权限原则： 通过定义清晰的角色，可以更好地实现“最小权限原则”，即用户只拥有完成其工作所需的最小权限。
        4.“角色爆炸”问题： 当需要非常细粒度的权限控制时，可能需要创建大量的角色来覆盖所有权限组合，导致角色难以管理.

## ABAC (基于属性)

    核心思想： 
        访问决策基于请求方（主体）、目标资源、操作以及环境的“属性”进行实时评估。 这种模型强调动态和细粒度的权限控制.
    工作原理：
        定义属性：
            1.主体属性： 用户所属部门、安全级别、国籍、年龄等。
            2.客体属性： 文件类型、数据敏感度、创建者、文件标签等。
            3.操作属性： 读、写、删除、审批等。
            4.环境属性： 访问时间、IP 地址、设备类型、地理位置等。
        定义策略 (Policies)：
            由一系列规则组成，这些规则基于属性的组合来决定访问权限。例如：“如果用户是‘财务部’成员 AND 尝试在‘工作时间’内访问‘高敏感’的‘财务报表’，则允许‘查看’”。
    特点：
        1.极高灵活性和细粒度： 能够处理传统模型难以表达的复杂授权场景，可以实现高度动态的、上下文相关的权限决策。
        2.减少策略数量： 通过属性组合，可以避免为每个具体的用户和资源组合编写策略。
        3.复杂性： 属性的增多和策略规则的复杂化可能导致难以管理、理解和调试。
        4.实时评估： 权限在运行时动态评估，而非预先分配。
        5.常见场景： 需要严格合规性（如医疗、金融）、大数据环境、微服务架构。

## ReBAC (基于关系) 

    核心思想： 
        访问决策基于主体（用户、组）和客体（资源）之间存在的特定“关系”来决定。 这种模型特别适用于处理复杂且动态变化的实体间关系。
    工作原理：
        1.构建关系图谱：系统中的用户、资源、组、项目等实体被视为图的节点，它们之间的关联（如“拥有”、“是成员”、“属于”、“共享给”）被视为图的边。
        2.关系定义： 使用三元组 (主体, 关系, 客体) 来表示。例如：user:alice owns document:doc1，user:bob is_member_of team:dev。
        3.策略推理： 权限引擎通过遍历这个关系图，并根据预定义的策略规则进行推理，以确定是否存在一条从请求者到目标资源满足权限要求的路径。策略可以定义关系的传递性（如“如果用户是团队成员，并且团 队拥有文件夹，则用户拥有文件夹”）。
    特点：
        1.自然映射业务逻辑： 许多业务场景的权限本身就是基于关系的（所有权、成员关系、层级关系等），ReBAC 能更直观地反映这些逻辑。
        2.处理复杂动态关系： 尤其擅长处理深层嵌套的层级结构和动态变化的关系，如社交网络、文件共享、多租户 SaaS 协作。
        3.细粒度： 能够实现极高粒度的权限控制。
        4.性能和可伸缩性： 现代 ReBAC 系统通常基于图数据库或专门的权限引擎构建，能高效地处理大量关系和高并发查询。
        5.复杂性： 关系建模是关键，初期设计和理解关系可能较为复杂。
        6.常见场景： 社交网络、文档协作平台、微服务授权、多层级组织架构。

## RuBAC (基于规则)

    核心思想： 
        访问权限基于管理员定义的特定规则和限制。 这个术语有时会与 ABAC 有重叠，因为 ABAC 的策略本质上也是规则，但 RuBAC 强调规则的直接性，可能不一定完全依赖于属性，更多是条件判断。
    工作原理：
        1.管理员创建一系列明确的规则。
        2.这些规则可以是 IF-THEN 语句，例如：“如果用户在公司网络内部 AND 在工作时间，则允许访问内部服务器”。
        3.规则可以非常具体，涉及用户身份、时间、地点、设备、操作等。
    特点：
        1.灵活性： 规则可以非常灵活地定义，适应各种特定场景。
        2.直接性： 规则的含义通常比复杂的属性组合更容易理解。
        3.管理复杂性： 随着规则数量的增加，管理和维护规则可能变得复杂，规则之间的冲突也可能难以解决。
        4.常见场景： 网络防火墙规则、IoT 设备权限、特定时间/地点的访问限制。

## PBAC (基于策略)

    核心思想： 
        访问决策由一系列定义清晰的“策略”来驱动。 这个术语是一个广义概念，可以涵盖 ABAC 和 ReBAC，因为 ABAC 和 ReBAC 本质上都是通过策略来表达访问控制逻辑的。PBAC 强调的是将授权逻辑从应用程序中解耦出来，形成独立的策略。
    工作原理：
        1.策略 (Policies)： PBAC 的核心。策略是结构化的规则集，定义了在何种条件下，何种主体可以对何种客体执行何种操作。
        2.策略评估引擎： 当一个访问请求到来时，策略评估引擎会解析请求并根据定义的策略进行判断。
        3.外部化授权： 策略通常存储在外部，不硬编码在应用程序中，便于集中管理和修改
    特点：
        1.灵活性和可扩展性： 能够应对不断变化的业务需求和复杂的授权场景。
        2.透明度： 策略是明确的规则，有助于审计和合规。
        3.解耦： 将授权逻辑与业务逻辑分离，提高系统的可维护性。
        4.复杂性： 策略的定义和管理需要专业的知识和工具。
    与 ABAC 的关系：
        ABAC 可以被看作是 PBAC 的一种具体实现或子集。 PBAC 是一个更广泛的术语，它指任何基于策略来做访问控制的模型，而这些策略的条件可以是属性（ABAC）、也可以是角色（RBAC的一部分）、甚至是关系（ReBAC）。所以，ABAC 和 ReBAC 都是 PBAC 范畴内的细粒度、动态访问控制模型。

## NGAC (下一代访问控制)

    核心思想： 
        NGAC 是由 NIST (美国国家标准与技术研究院) 提出的一套全面、灵活且可扩展的访问控制框架。它旨在解决传统模型在面对复杂、动态、大规模环境（如云计算、物联网、微服务）时的不足。
    工作原理：
        1.图形化模型： NGAC 将访问控制数据（用户、资源、操作、策略、属性等）建模为一张图。权限决策通过遍历这张图上的路径和关系来完成。
        2.统一语义： 提供了一个统一的、形式化的语言来表达各种复杂的访问控制策略，包括基于角色、属性、时间和关系的策略。
        3.上下文感知： 能够融合各种上下文信息（时间、地点、设备、风险等级）来做出决策。
        4.动态性： 支持策略和权限的动态调整，甚至可以临时授权。
    特点：
        1.集成多种模型： NGAC 试图整合 DAC、MAC、RBAC、ABAC 等模型的优点，提供一个更统一、更强大的框架。
        2.高粒度与可伸缩性： 能够实现极细粒度的控制，并能有效扩展到大型分布式系统。
        3.复杂性： 相较于 RBAC 等模型，NGAC 的概念和实现更为复杂。
        4.标准化： 作为 NIST 的研究成果，它具有一定的标准化潜力。
    与 ReBAC 的关系： 
        NGAC 的核心理念之一就是图形化模型和关系推理。因此，ReBAC 可以被视为 NGAC 思想的一个重要组成部分或应用。NGAC 更像是一个涵盖性框架，其中包含了关系驱动的决策能力。

## IBAC (基于身份)

    核心思想： 
        这是最基本、最原始的访问控制形式。访问权限直接与用户的唯一身份（如用户名）绑定。
    工作原理： 
        每个用户都被单独授权或拒绝访问特定资源。通常通过访问控制列表 (ACL) 实现，ACL 中直接列出用户 ID 及其权限。
    特点：
        1.简单直接： 对于少量用户和资源非常容易理解和实现。
        2.管理复杂： 随着用户和资源数量的增加，维护每个用户对每个资源的权限会变得极其繁琐和难以扩展。
    与 DAC 的关系： 
        IBAC 可以看作是 DAC 的最简单实现形式，即资源所有者可以直接为某个用户的身份授予权限。DAC 更多地指所有者自主管理权限的原则，而 IBAC 是这种原则在具体到用户身份层面的体现。

## HBAC (基于历史) 

    核心思想： 
        访问决策不仅考虑当前的状态和属性，还会考虑主体过去的活动历史或行为模式。
    工作原理： 
        系统会评估请求方的行为历史，如访问频率、异常访问模式、是否有过违规记录等，然后将其纳入访问决策。这与零信任（Zero Trust）理念中的“持续验证”和“上下文感知”有很强的关联。
    特点：
        动态性和自适应性： 能够根据用户行为调整权限，提供更高级的风险感知。
    复杂性： 
        需要收集、存储和分析大量的历史数据，并建立复杂的行为分析模型。

## GBAC (基于图)

    核心思想： 
        这是一个更通用的术语，表示使用图数据结构来建模和管理访问控制逻辑。
    特点： 
        利用图数据库的优势，可以高效地处理复杂的、多跳的权限查询，例如查找“所有与用户 X 间接相关，且拥有访问权限的资源”。
    与 ReBAC 的关系： 
        GBAC 是一个广义概念，ReBAC 可以说是 GBAC 的一个主要应用或具体实现形式。 ReBAC 明确关注“关系”本身作为权限决策的依据，而 GBAC 强调使用图这种数据结构来存储和查询所有的访问控制信息（包括用户、角色、属性、资源以及它们之间的各种关联）。
    常见场景： 任何需要复杂权限查询和关系推理的场景，如 ReBAC 的应用领域。

## CBAC (基于上下文)

    核心思想： 
        访问决策严重依赖于实时上下文信息，而不仅仅是身份或预定义规则。
    上下文因素包括： 
        用户位置（GPS、IP）、设备健康状况（是否越狱、杀毒软件是否运行）、访问时间、网络类型、用户行为模式（异常登录、不寻常的资源访问）、环境风险评分等。
    特点：
        高度自适应和风险感知： 能够根据不断变化的实时条件动态调整访问权限。
        零信任架构的关键组成部分： 持续验证、永不信任是其核心。
        复杂性： 需要复杂的策略引擎和数据分析能力来实时收集和评估上下文信息。
    与 ABAC 的关系： 
        CBAC 与 ABAC 有很大的重叠，甚至可以说是 ABAC 的一个更强调实时和动态上下文的子集或演进方向。ABAC 使用属性，而 CBAC 特别强调这些属性是实时获取的“上下文”信息。
    常见场景： 
        零信任网络、动态风险评估、移动办公安全、物联网安全。

## OrBAC (基于组织)

    这是 RBAC 的一种扩展，更强调组织结构、职能和组织策略在访问控制中的作用。它试图将组织规则、任务和上下文信息集成到角色定义中，使得角色更能反映复杂的企业结构和业务流程。
    可以视为 RBAC 的一种高级、更具业务感知的实现。

## TRBAC (基于时间)

    这是 RBAC 和 ABAC 的一个交叉点，在 RBAC 的基础上引入了时间属性。例如，“销售经理角色在工作日的工作时间（上午9点到下午5点）拥有访问客户数据库的权限”。
    可以看作是 ABAC 或 RuBAC 在 RBAC 上的特定应用。

## GRBAC (基于组)

    RBAC 的一个常见实践，用户不是直接分配角色，而是先被分配到用户组，然后用户组再被分配角色。这进一步简化了大规模用户和角色管理。
    这更像是一种管理实践而非全新的模型，但它在实际部署中非常普遍。



    